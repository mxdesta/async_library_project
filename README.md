üìö –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (SQLAlchemy 2.0 + asyncpg)

–≠—Ç–æ –º–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏–∑—É—á–∞–ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy. –ó–¥–µ—Å—å —è —Å—Ç–∞—Ä–∞–ª—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∑–Ω–∞–ª: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –º–æ–¥–µ–ª–µ–π, –≥–∏–±—Ä–∏–¥–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.
üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

    Python 3.12

    SQLAlchemy 2.0 (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º)

    asyncpg (–¥—Ä–∞–π–≤–µ—Ä –¥–ª—è PostgreSQL)

    PostgreSQL

    python-dotenv (–¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è)

üìã –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Å —á–µ—Ç—ã—Ä—å–º—è —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏:
üë§ Author (–ê–≤—Ç–æ—Ä)

    id, name, bio, birth_date, created_at

    –°–≤—è–∑—å: –æ–¥–∏–Ω –∞–≤—Ç–æ—Ä ‚Üí –º–Ω–æ–≥–æ –∫–Ω–∏–≥

üìñ Book (–ö–Ω–∏–≥–∞)

    id, title, isbn (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π), description, published_year, genre

    –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á: author_id

    –°–≤—è–∑–∏: –∫–Ω–∏–≥–∞ ‚Üí –∞–≤—Ç–æ—Ä, –∫–Ω–∏–≥–∞ ‚Üí –≤—ã–¥–∞—á–∏

    –í–∞–ª–∏–¥–∞—Ü–∏—è ISBN (13 —Ü–∏—Ñ—Ä)

    –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è –º–µ–∂–¥—É 1000 –∏ —Ç–µ–∫—É—â–∏–º

üë• Reader (–ß–∏—Ç–∞—Ç–µ–ª—å)

    id, email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π), full_name, phone, address

    registered_at, is_active

    –í–∞–ª–∏–¥–∞—Ü–∏—è email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

    Association proxy –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–Ω–∏–≥–∞–º —á–∏—Ç–∞—Ç–µ–ª—è

üìÖ Loan (–í—ã–¥–∞—á–∞)

    id, book_id, reader_id

    loan_date, due_date, return_date

    –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ status: active / overdue / returned

    –£–Ω–∏–∫–∞–ª—å–Ω—ã–π partial index: –∫–Ω–∏–≥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–¥–∞–Ω–∞ –¥–≤–∞–∂–¥—ã, –ø–æ–∫–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞

    –°–æ–±—ã—Ç–∏—è: –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ due_date (14 –¥–Ω–µ–π), –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–¥–∞—á–∏

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

    –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î ‚Äî async/await

    –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ create_async_engine

    –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Å–µ—Å—Å–∏–π

–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

    –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–µ–π

    –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (CheckConstraint, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã)

    –ö–∞—Å–∫–∞–¥–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

    –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: models / database / crud / decorator

    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

    –î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

    –¢–∏–ø–∏–∑–∞—Ü–∏—è

CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏

    –ë–∞–∑–æ–≤—ã–µ: get_by_id, get_all, create, update, delete

    –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ: –∫–Ω–∏–≥–∏ –ø–æ –∞–≤—Ç–æ—Ä—É, –∞–∫—Ç–∏–≤–Ω—ã–µ/–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –≤—ã–¥–∞—á–∏, –¥–æ–ª–∂–Ω–∏–∫–∏

    –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: selectinload –¥–ª—è –∂–∞–¥–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í main.py –Ω–∞–ø–∏—Å–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö:

    –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π

    –†–∞–±–æ—Ç—É —Å–≤—è–∑–µ–π –∏ –∂–∞–¥–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É

    –ì–∏–±—Ä–∏–¥–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ Python –∏ SQL

    –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–Ω–µ–ª—å–∑—è –≤—ã–¥–∞—Ç—å —É–∂–µ –≤—ã–¥–∞–Ω–Ω—É—é –∫–Ω–∏–≥—É)

    –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

    –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

üö¶ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

    –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

    –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    bash

    python -m venv venv
    source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    bash

    pip install -r requirements.txt

    –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

        –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL

        –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö mydb (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –≤ .env)

    –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env
    env

    DATABASE_URL=postgresql+asyncpg://postgres:–≤–∞—à_–ø–∞—Ä–æ–ª—å@localhost:5432/mydb

    –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
    bash

    python main.py

üìå –ß–µ–º—É —è –Ω–∞—É—á–∏–ª—Å—è

    –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ SQLAlchemy

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–æ–ª–µ–π

    –ü–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏

    –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

    –†–∞–±–æ—Ç–∞—Ç—å —Å unique partial index

    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ë–î

    –°—Ç—Ä–æ–∏—Ç—å —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

üîÆ –ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

    –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ print —á–µ—Ä–µ–∑ logging

    –û–±–µ—Ä–Ω—É—Ç—å –≤ FastAPI

    –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Alembic